import{L as x}from"./Layout.842a4804.js";import{L as D,H as P,i as A,r as k,o as d,c as r,a as w,w as U,b as e,j as L,k as n,l as u,n as c,t as a,d as _,v,F as f,e as h,m as N,f as S,g as T}from"./app.a22bdfaf.js";import{S as C}from"./sweetalert2.all.ecb1f0e1.js";import{a as g}from"./index.2dd97047.js";import{_ as K}from"./_plugin-vue_export-helper.cdc0426e.js";const M={layout:x,components:{Link:D,Head:P},data(){return{provinces:[]}},props:{errors:Object,user:Object},mounted(){g.get("/region/province").then(o=>{this.provinces=o.data}).catch(o=>console.error(o))},setup(o){const i=A({id:o.user.id,name:o.user.name,email:o.user.email,username:o.user.username,password:"",password_confirmation:"",member_type:o.user.member_type,level:o.user.level,is_active:o.user.is_active,province_id:o.user.student&&o.user.student.province_id?o.user.student.province_id:"",city_id:o.user.student&&o.user.student.city_id?o.user.student.city_id:"",district_id:o.user.student&&o.user.student.district_id?o.user.student.district_id:"",village_id:o.user.student&&o.user.student.village_id?o.user.student.village_id:"",address:o.user.student&&o.user.student.address?o.user.student.address:"",phone_number:o.user.student&&o.user.student.phone_number?o.user.student.phone_number:"",gender:o.user.student&&o.user.student.gender?o.user.student.gender:"",date_of_birth:o.user.student&&o.user.student.date_of_birth?o.user.student.date_of_birth:"",cities:[],districts:[],villages:[]}),t=()=>{g.get(`/region/city/${i.province_id}`).then(m=>{i.city_id=o.user.student.province_id==i.province_id?o.user.student.city_id:"",i.district_id=o.user.student.city_id==i.city_id?o.user.student.district_id:"",i.village_id=o.user.student.district_id==i.district_id?o.user.student.village_id:"",i.cities=m.data}).catch(m=>console.error(m))},l=()=>{i.district_id=o.user.student.city_id==i.city_id?o.user.student.district_id:"",i.village_id=o.user.student.district_id==i.district_id?o.user.student.village_id:"",g.get(`/region/district/${i.city_id}`).then(m=>{i.districts=m.data}).catch(m=>console.error(m))},b=()=>{i.village_id=o.user.student.district_id==i.district_id?o.user.student.village_id:"",g.get(`/region/village/${i.district_id}`).then(m=>{i.villages=m.data}).catch(m=>console.error(m))},y=()=>{N.Inertia.put(`/admin/users/${o.user.id}`,{id:i.id,name:i.name,email:i.email,username:i.username,password:i.password,password_confirmation:i.password_confirmation,member_type:i.member_type,level:i.level,is_active:i.is_active,province_id:i.province_id,city_id:i.city_id,district_id:i.district_id,village_id:i.village_id,address:i.address,phone_number:i.phone_number,gender:i.gender,date_of_birth:i.date_of_birth},{onSuccess:()=>{C.fire({title:"Success!",text:"User Berhasil Disimpan!.",icon:"success",showConfirmButton:!1,timer:1e3})}})};return o.user.student&&(t(),l(),b()),{form:i,submit:y,cityData:t,districtData:l,villageData:b}}},B={class:"page-wrapper"},E={class:"page-content"},O=S('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">User</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Edit User</li></ol></nav></div></div>',1),H={class:"card border-top border-0 border-3 border-primary"},j={class:"card-body"},F={class:"d-lg-flex align-items-center"},I=e("h6",{class:"card-title"},"Informasi Akun",-1),R={class:"ms-auto"},W=T("Kembali"),z=e("hr",null,null,-1),G={class:"row g-3"},J={class:"col-lg-6 col-md-6"},q=e("label",{class:"form-label"},"Nama",-1),Q={key:0,class:"invalid-feedback"},X={class:"col-lg-6 col-md-6"},Y=e("label",{class:"form-label"},"Level",-1),Z=e("option",{value:""},"[ Pilih ]",-1),p=e("option",{value:"1"},"Admin",-1),$=e("option",{value:"2"},"User",-1),ee=[Z,p,$],ie={key:0,class:"invalid-feedback"},se={class:"col-lg-6 col-md-6"},te=e("label",{class:"form-label"},"Username",-1),oe={key:0,class:"invalid-feedback"},le={class:"col-lg-6 col-md-6"},de=e("label",{class:"form-label"},"Email (Optional)",-1),re={key:0,class:"invalid-feedback"},ae={class:"col-lg-6 col-md-6"},ne=e("label",{class:"form-label"},"password",-1),ce={key:0,class:"invalid-feedback"},_e={class:"col-lg-6 col-md-6"},me=e("label",{class:"form-label"},"Konfirmasi Password",-1),ue={key:0,class:"invalid-feedback"},ve={class:"col-lg-6 col-md-6"},fe=e("label",{class:"form-label"},"Tipe Member",-1),be=e("option",{value:""},"[ Pilih ]",-1),he=e("option",{value:"1"},"Member Gratis Try Out",-1),ge=e("option",{value:"2"},"Member Try Out Berbayar ",-1),ye=[be,he,ge],ke={key:0,class:"invalid-feedback"},we={class:"col-lg-6 col-md-6"},Ue=e("label",{class:"form-label"},"Status Akun",-1),Ve=e("option",{value:""},"[ Pilih ]",-1),xe=e("option",{value:"1"},"Active",-1),De=e("option",{value:"0"},"Non Active",-1),Pe=[Ve,xe,De],Ae={key:0,class:"invalid-feedback"},Le={class:"card border-top border-0 border-3 border-primary"},Ne={class:"card-body"},Se=e("h6",{class:"card-title"},"Informasi Lainnya (Optional)",-1),Te=e("hr",null,null,-1),Ce={class:"row g-3"},Ke={class:"col-lg-6 col-md-6"},Me=e("label",{class:"form-label"},"Jenis Kelamin",-1),Be=e("option",{value:""},"[ Pilih ]",-1),Ee=e("option",{value:"M"},"Laki-laki",-1),Oe=e("option",{value:"F"},"Perempuan",-1),He=[Be,Ee,Oe],je={key:0,class:"invalid-feedback"},Fe={class:"col-lg-6 col-md-6"},Ie=e("label",{class:"form-label"},"Tanggal Lahir",-1),Re={key:0,class:"invalid-feedback"},We={class:"col-lg-6 col-md-6"},ze=e("label",{class:"form-label"},"Provinsi",-1),Ge=e("option",{value:""},"[ Pilih ]",-1),Je=["value"],qe={key:0,class:"invalid-feedback"},Qe={class:"col-lg-6 col-md-6"},Xe=e("label",{class:"form-label"},"Kota / Kab",-1),Ye=e("option",{value:""},"[ Pilih ]",-1),Ze=["value"],pe={key:0,class:"invalid-feedback"},$e={class:"col-lg-6 col-md-6"},ei=e("label",{class:"form-label"},"Kecamatan",-1),ii=e("option",{value:""},"[ Pilih ]",-1),si=["value"],ti={key:0,class:"invalid-feedback"},oi={class:"col-lg-6 col-md-6"},li=e("label",{class:"form-label"},"Desa / Kelurahan",-1),di=e("option",{value:""},"[ Pilih ]",-1),ri=["value"],ai={key:0,class:"invalid-feedback"},ni={class:"col-lg-12"},ci=e("label",{class:"form-label"},"Alamat",-1),_i={key:0,class:"invalid-feedback"},mi={class:"col-lg-12 col-md-12"},ui=e("label",{class:"form-label"},"Nomor Whatsapp Aktif",-1),vi={key:0,class:"invalid-feedback"},fi=e("div",{class:"col-lg-6 col-md-6"},[e("button",{type:"submit",class:"btn btn-primary btn-sm btn-sm px-5"},"Submit")],-1);function bi(o,i,t,l,b,y){const m=k("Head"),V=k("Link");return d(),r(f,null,[w(m,null,{default:U(()=>{var s;return[e("title",null,a((s=o.$page.props.setting.app_name)!=null?s:"Atur Setting Terlebih Dahulu")+" - Edit User",1)]}),_:1}),e("div",B,[e("div",E,[O,e("form",{onSubmit:i[20]||(i[20]=L((...s)=>l.submit&&l.submit(...s),["prevent"]))},[e("div",H,[n(e("input",{type:"hidden",class:c(["form-control",{"is-invalid":t.errors.id}]),"onUpdate:modelValue":i[0]||(i[0]=s=>l.form.id=s)},null,2),[[u,l.form.id]]),e("div",j,[e("div",F,[I,e("div",R,[w(V,{href:"/admin/users",class:"btn btn-primary btn-sm btn-sm mt-2 mt-lg-0"},{default:U(()=>[W]),_:1})])]),z,e("div",G,[e("div",J,[q,n(e("input",{type:"text",class:c(["form-control",{"is-invalid":t.errors.name}]),"onUpdate:modelValue":i[1]||(i[1]=s=>l.form.name=s),placeholder:"Nama"},null,2),[[u,l.form.name]]),t.errors.name?(d(),r("div",Q,a(t.errors.name),1)):_("",!0)]),e("div",X,[Y,n(e("select",{"onUpdate:modelValue":i[2]||(i[2]=s=>l.form.level=s),class:c([{"is-invalid":t.errors.level},"form-select"])},ee,2),[[v,l.form.level]]),t.errors.level?(d(),r("div",ie,a(t.errors.level),1)):_("",!0)]),e("div",se,[te,n(e("input",{type:"text",class:c(["form-control",{"is-invalid":t.errors.username}]),"onUpdate:modelValue":i[3]||(i[3]=s=>l.form.username=s),placeholder:"Username"},null,2),[[u,l.form.username]]),t.errors.username?(d(),r("div",oe,a(t.errors.username),1)):_("",!0)]),e("div",le,[de,n(e("input",{type:"email",class:c(["form-control",{"is-invalid":t.errors.email}]),"onUpdate:modelValue":i[4]||(i[4]=s=>l.form.email=s),placeholder:"Email"},null,2),[[u,l.form.email]]),t.errors.email?(d(),r("div",re,a(t.errors.email),1)):_("",!0)]),e("div",ae,[ne,n(e("input",{type:"password",class:c(["form-control",{"is-invalid":t.errors.password}]),"onUpdate:modelValue":i[5]||(i[5]=s=>l.form.password=s),placeholder:"Password"},null,2),[[u,l.form.password]]),t.errors.password?(d(),r("div",ce,a(t.errors.password),1)):_("",!0)]),e("div",_e,[me,n(e("input",{type:"password",class:c(["form-control",{"is-invalid":t.errors.password_confirmation}]),"onUpdate:modelValue":i[6]||(i[6]=s=>l.form.password_confirmation=s),placeholder:"Konfirmasi Password"},null,2),[[u,l.form.password_confirmation]]),t.errors.password_confirmation?(d(),r("div",ue,a(t.errors.password_confirmation),1)):_("",!0)]),e("div",ve,[fe,n(e("select",{"onUpdate:modelValue":i[7]||(i[7]=s=>l.form.member_type=s),class:c([{"is-invalid":t.errors.member_type},"form-select"])},ye,2),[[v,l.form.member_type]]),t.errors.member_type?(d(),r("div",ke,a(t.errors.member_type),1)):_("",!0)]),e("div",we,[Ue,n(e("select",{"onUpdate:modelValue":i[8]||(i[8]=s=>l.form.is_active=s),class:c([{"is-invalid":t.errors.is_active},"form-select"])},Pe,2),[[v,l.form.is_active]]),t.errors.is_active?(d(),r("div",Ae,a(t.errors.is_active),1)):_("",!0)])])])]),e("div",Le,[e("div",Ne,[Se,Te,e("div",Ce,[e("div",Ke,[Me,n(e("select",{"onUpdate:modelValue":i[9]||(i[9]=s=>l.form.gender=s),class:c([{"is-invalid":t.errors.gender},"form-select"])},He,2),[[v,l.form.gender]]),t.errors.gender?(d(),r("div",je,a(t.errors.gender),1)):_("",!0)]),e("div",Fe,[Ie,n(e("input",{type:"date","onUpdate:modelValue":i[10]||(i[10]=s=>l.form.date_of_birth=s),class:c([{"is-invalid":t.errors.date_of_birth},"form-control"]),placeholder:"Tanggal Lahir"},null,2),[[u,l.form.date_of_birth]]),t.errors.date_of_birth?(d(),r("div",Re,a(t.errors.date_of_birth),1)):_("",!0)]),e("div",We,[ze,n(e("select",{onChange:i[11]||(i[11]=(...s)=>l.cityData&&l.cityData(...s)),"onUpdate:modelValue":i[12]||(i[12]=s=>l.form.province_id=s),class:c([{"is-invalid":t.errors.province_id},"form-select"])},[Ge,(d(!0),r(f,null,h(b.provinces,s=>(d(),r("option",{value:s.id},a(s.name),9,Je))),256))],34),[[v,l.form.province_id]]),t.errors.province_id?(d(),r("div",qe,a(t.errors.province_id),1)):_("",!0)]),e("div",Qe,[Xe,n(e("select",{onChange:i[13]||(i[13]=(...s)=>l.districtData&&l.districtData(...s)),"onUpdate:modelValue":i[14]||(i[14]=s=>l.form.city_id=s),class:c([{"is-invalid":t.errors.city_id},"form-select"])},[Ye,(d(!0),r(f,null,h(l.form.cities,s=>(d(),r("option",{value:s.id},a(s.name),9,Ze))),256))],34),[[v,l.form.city_id]]),t.errors.city_id?(d(),r("div",pe,a(t.errors.city_id),1)):_("",!0)]),e("div",$e,[ei,n(e("select",{onChange:i[15]||(i[15]=(...s)=>l.villageData&&l.villageData(...s)),"onUpdate:modelValue":i[16]||(i[16]=s=>l.form.district_id=s),class:c([{"is-invalid":t.errors.district_id},"form-select"])},[ii,(d(!0),r(f,null,h(l.form.districts,s=>(d(),r("option",{value:s.id},a(s.name),9,si))),256))],34),[[v,l.form.district_id]]),t.errors.district_id?(d(),r("div",ti,a(t.errors.district_id),1)):_("",!0)]),e("div",oi,[li,n(e("select",{"onUpdate:modelValue":i[17]||(i[17]=s=>l.form.village_id=s),class:c([{"is-invalid":t.errors.village_id},"form-select"])},[di,(d(!0),r(f,null,h(l.form.villages,s=>(d(),r("option",{value:s.id},a(s.name),9,ri))),256))],2),[[v,l.form.village_id]]),t.errors.village_id?(d(),r("div",ai,a(t.errors.village_id),1)):_("",!0)]),e("div",ni,[ci,n(e("textarea",{cols:"",rows:"5","onUpdate:modelValue":i[18]||(i[18]=s=>l.form.address=s),class:c([{"is-invalid":t.errors.address},"form-control"]),placeholder:"Alamat RT/RW/No Rumah"},null,2),[[u,l.form.address]]),t.errors.address?(d(),r("div",_i,a(t.errors.address),1)):_("",!0)]),e("div",mi,[ui,n(e("input",{type:"text","onUpdate:modelValue":i[19]||(i[19]=s=>l.form.phone_number=s),class:c([{"is-invalid":t.errors.phone_number},"form-control"]),placeholder:"Nomor Hp (WA Aktif)"},null,2),[[u,l.form.phone_number]]),t.errors.phone_number?(d(),r("div",vi,a(t.errors.phone_number),1)):_("",!0)]),fi])])])],32)])])],64)}const Ui=K(M,[["render",bi]]);export{Ui as default};
