import{L as k}from"./Layout.842a4804.js";import{L as y,H as x,i as S,r as u,o as i,c as d,a as _,w as m,b as t,j as T,t as s,d as h,k as w,v as D,F as P,m as N,f as b,g as B}from"./app.a22bdfaf.js";import{S as L}from"./sweetalert2.all.ecb1f0e1.js";import{_ as F}from"./_plugin-vue_export-helper.cdc0426e.js";const K={layout:k,components:{Link:y,Head:x},props:{transaction:Object},setup(e){const a=S({transaction_status:e.transaction.transaction_status});return{form:a,submit:()=>{N.Inertia.put(`/admin/transactions/${e.transaction.id}`,{transaction_status:a.transaction_status},{onSuccess:()=>{L.fire({title:"Success!",text:"Transaksi Berhasil Diupdate!.",icon:"success",showConfirmButton:!1,timer:1e3})}})}}},methods:{formatPrice(e){return"Rp."+(e/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},V={class:"page-wrapper"},j={class:"page-content"},A=b('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Transaksi</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Detail Transaksi</li></ol></nav></div></div>',1),C={class:"card border-top border-0 border-3 border-primary"},H={class:"card-body"},U={class:"d-lg-flex align-items-center"},p={class:"ms-auto"},M=B("Kembali"),E={class:"table-responsive"},W={class:"table mb-0"},I=t("tr",null,[t("th",{colspan:"3"},"Biodata")],-1),J=t("td",{width:"300px"},"Nama Lengkap",-1),O=t("td",{width:"20px"},":",-1),R=t("td",null,"Email",-1),q=t("td",null,":",-1),z=t("td",null,"Username",-1),G=t("td",null,":",-1),Q=t("td",null,"Provinsi",-1),X=t("td",null,":",-1),Y=t("td",null,"Kota/Kab",-1),Z=t("td",null,":",-1),$=t("td",null,"Kecamatan",-1),tt=t("td",null,":",-1),nt=t("td",null,"Desa/Kelurahan",-1),st=t("td",null,":",-1),at=t("td",null,"Nomor Telepon (Whatsapp)",-1),et=t("td",null,":",-1),ot=t("td",null,"Alamat",-1),lt=t("td",null,":",-1),it=t("tr",null,[t("th",{colspan:"3"},"Detail Transaksi")],-1),dt=t("td",null,"No Faktur",-1),ct=t("td",null,":",-1),rt=t("td",null,"Tanggal Faktur",-1),ut=t("td",null,":",-1),_t=t("td",null,"Kategori Peminatan",-1),mt=t("td",null,":",-1),ht={class:"badge bg-primary"},bt=t("td",null,"Judul Ujian",-1),vt=t("td",null,":",-1),ft=t("td",null,"Total Pembayaran",-1),gt=t("td",null,":",-1),kt=t("td",null,"Maksimal Waktu Pembayaran",-1),yt=t("td",null,":",-1),xt=t("td",null,"Status Transaksi",-1),St=t("td",null,":",-1),Tt={key:0},wt=t("td",null,"Token",-1),Dt=t("td",null,":",-1),Pt=t("tr",null,[t("th",{colspan:"3"},"Action")],-1),Nt=t("td",null,"Ubah Status Transaksi",-1),Bt=t("td",null,":",-1),Lt=["disabled"],Ft=b('<option value="">[ Pilih Statu Transaksi ]</option><option value="pending">Pending</option><option value="paid">Paid</option><option value="done">Done</option><option value="failed">Failed</option>',5),Kt=[Ft],Vt={key:1},jt=t("td",{colspan:"3"},[t("button",{type:"submit",class:"btn btn-primary btn-sm px-5"},"Submit")],-1),At=[jt];function Ct(e,a,n,l,Ht,v){var c,r;const f=u("Head"),g=u("Link");return i(),d(P,null,[_(f,null,{default:m(()=>{var o;return[t("title",null,s((o=e.$page.props.setting.app_name)!=null?o:"Atur Setting Terlebih Dahulu")+" - Detail Transaksi",1)]}),_:1}),t("div",V,[t("div",j,[A,t("div",C,[t("div",H,[t("div",U,[t("div",p,[_(g,{href:"/admin/transactions",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:m(()=>[M]),_:1})])]),t("div",E,[t("form",{onSubmit:a[1]||(a[1]=T((...o)=>l.submit&&l.submit(...o),["prevent"]))},[t("table",W,[t("tbody",null,[I,t("tr",null,[J,O,t("td",null,s(n.transaction.user?n.transaction.user.name:"-"),1)]),t("tr",null,[R,q,t("td",null,s((c=n.transaction.user.email)!=null?c:"-"),1)]),t("tr",null,[z,G,t("td",null,s((r=n.transaction.user.username)!=null?r:"-"),1)]),t("tr",null,[Q,X,t("td",null,s(n.transaction.user.student&&n.transaction.user.student.province?n.transaction.user.student.province.name:"-"),1)]),t("tr",null,[Y,Z,t("td",null,s(n.transaction.user.student&&n.transaction.user.student.city?n.transaction.user.student.city.name:"-"),1)]),t("tr",null,[$,tt,t("td",null,s(n.transaction.user.student&&n.transaction.user.student.district?n.transaction.user.student.district.name:"-"),1)]),t("tr",null,[nt,st,t("td",null,s(n.transaction.user.student&&n.transaction.user.student.village?n.transaction.user.student.village.name:"-"),1)]),t("tr",null,[at,et,t("td",null,s(n.transaction.user.student&&n.transaction.user.student.phone_number?n.transaction.user.student.phone_number:"-"),1)]),t("tr",null,[ot,lt,t("td",null,s(n.transaction.user.student&&n.transaction.user.student.address?n.transaction.user.student.address:"-"),1)]),it,t("tr",null,[dt,ct,t("td",null,s(n.transaction.code),1)]),t("tr",null,[rt,ut,t("td",null,s(n.transaction.created_at),1)]),t("tr",null,[_t,mt,t("td",null,[t("span",ht,s(n.transaction.exam.category.name),1)])]),t("tr",null,[bt,vt,t("td",null,s(n.transaction.exam.title),1)]),t("tr",null,[ft,gt,t("td",null,s(v.formatPrice(n.transaction.total_purchases)),1)]),t("tr",null,[kt,yt,t("td",null,s(n.transaction.maximum_payment_time),1)]),t("tr",null,[xt,St,t("td",null,s(n.transaction.transaction_status),1)]),n.transaction.transaction_status=="done"?(i(),d("tr",Tt,[wt,Dt,t("td",null,s(n.transaction.voucher_token),1)])):h("",!0),Pt,t("tr",null,[Nt,Bt,t("td",null,[w(t("select",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=o=>l.form.transaction_status=o),disabled:n.transaction.transaction_status=="done"},Kt,8,Lt),[[D,l.form.transaction_status]])])]),n.transaction.transaction_status!="done"&&n.transaction.transaction_status!="failed"?(i(),d("tr",Vt,At)):h("",!0)])])],32)])])])])])],64)}const Wt=F(K,[["render",Ct]]);export{Wt as default};
