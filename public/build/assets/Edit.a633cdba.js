import{L as x}from"./Layout.842a4804.js";import{L as D,H as L,i as N,r as k,o,c as a,a as w,w as U,b as i,j as P,k as n,l as u,n as c,t as l,d as m,v,F as f,e as h,m as S,f as A,g as C}from"./app.a22bdfaf.js";import{S as K}from"./sweetalert2.all.ecb1f0e1.js";import{a as g}from"./index.2dd97047.js";import{_ as E}from"./_plugin-vue_export-helper.cdc0426e.js";const T={layout:x,components:{Link:D,Head:L},data(){return{provinces:[]}},props:{errors:Object,user:Object},mounted(){g.get("/region/province").then(s=>{this.provinces=s.data}).catch(s=>console.error(s))},setup(s){const e=N({id:s.user.id,name:s.user.name,email:s.user.email,username:s.user.username,password:"",password_confirmation:"",member_type:s.user.member_type,level:s.user.level,is_active:s.user.is_active,province_id:s.user.student&&s.user.student.province_id?s.user.student.province_id:"",city_id:s.user.student&&s.user.student.city_id?s.user.student.city_id:"",district_id:s.user.student&&s.user.student.district_id?s.user.student.district_id:"",village_id:s.user.student&&s.user.student.village_id?s.user.student.village_id:"",address:s.user.student&&s.user.student.address?s.user.student.address:"",phone_number:s.user.student&&s.user.student.phone_number?s.user.student.phone_number:"",gender:s.user.student&&s.user.student.gender?s.user.student.gender:"",date_of_birth:s.user.student&&s.user.student.date_of_birth?s.user.student.date_of_birth:"",cities:[],districts:[],villages:[]}),d=()=>{g.get(`/region/city/${e.province_id}`).then(_=>{e.city_id=s.user.student.province_id==e.province_id?s.user.student.city_id:"",e.district_id=s.user.student.city_id==e.city_id?s.user.student.district_id:"",e.village_id=s.user.student.district_id==e.district_id?s.user.student.village_id:"",e.cities=_.data}).catch(_=>console.error(_))},r=()=>{e.district_id=s.user.student.city_id==e.city_id?s.user.student.district_id:"",e.village_id=s.user.student.district_id==e.district_id?s.user.student.village_id:"",g.get(`/region/district/${e.city_id}`).then(_=>{e.districts=_.data}).catch(_=>console.error(_))},b=()=>{e.village_id=s.user.student.district_id==e.district_id?s.user.student.village_id:"",g.get(`/region/village/${e.district_id}`).then(_=>{e.villages=_.data}).catch(_=>console.error(_))},y=()=>{S.Inertia.put(`/user/users/${s.user.id}`,{id:e.id,name:e.name,email:e.email,username:e.username,password:e.password,password_confirmation:e.password_confirmation,member_type:e.member_type,is_active:e.is_active,level:e.level,province_id:e.province_id,city_id:e.city_id,district_id:e.district_id,village_id:e.village_id,address:e.address,phone_number:e.phone_number,gender:e.gender,date_of_birth:e.date_of_birth},{onSuccess:()=>{K.fire({title:"Success!",text:"User Berhasil Disimpan!.",icon:"success",showConfirmButton:!1,timer:1e3})}})};return s.user.student&&(d(),r(),b()),{form:e,submit:y,cityData:d,districtData:r,villageData:b}}},B={class:"page-wrapper"},H={class:"page-content"},j=A('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">User</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page">Edit User</li></ol></nav></div></div>',1),M={class:"card border-top border-0 border-3 border-primary"},F={class:"card-body"},I={class:"d-lg-flex align-items-center"},O=i("h6",{class:"card-title"},"Informasi Akun",-1),R={class:"ms-auto"},W=C("Kembali"),z=i("hr",null,null,-1),J={class:"row g-3"},q={class:"col-lg-12 col-md-12"},G=i("label",{class:"form-label"},"Nama",-1),Q={key:0,class:"invalid-feedback"},X={class:"col-lg-6 col-md-6"},Y=i("label",{class:"form-label"},"Username",-1),Z={key:0,class:"invalid-feedback"},p={class:"col-lg-6 col-md-6"},$=i("label",{class:"form-label"},"Email",-1),ee={key:0,class:"invalid-feedback"},ie={class:"col-lg-6 col-md-6"},se=i("label",{class:"form-label"},"password",-1),te={key:0,class:"invalid-feedback"},de={class:"col-lg-6 col-md-6"},re=i("label",{class:"form-label"},"Konfirmasi Password",-1),oe={key:0,class:"invalid-feedback"},ae={class:"card border-top border-0 border-3 border-primary"},le={class:"card-body"},ne=i("h6",{class:"card-title"},"Informasi Lainnya (Optional)",-1),ce=i("hr",null,null,-1),_e={class:"row g-3"},me={class:"col-lg-6 col-md-6"},ue=i("label",{class:"form-label"},"Jenis Kelamin",-1),ve=i("option",{value:""},"[ Pilih ]",-1),fe=i("option",{value:"M"},"Laki-laki",-1),be=i("option",{value:"F"},"Perempuan",-1),he=[ve,fe,be],ge={key:0,class:"invalid-feedback"},ye={class:"col-lg-6 col-md-6"},ke=i("label",{class:"form-label"},"Tanggal Lahir",-1),we={key:0,class:"invalid-feedback"},Ue={class:"col-lg-6 col-md-6"},Ve=i("label",{class:"form-label"},"Provinsi",-1),xe=i("option",{value:""},"[ Pilih ]",-1),De=["value"],Le={key:0,class:"invalid-feedback"},Ne={class:"col-lg-6 col-md-6"},Pe=i("label",{class:"form-label"},"Kota / Kab",-1),Se=i("option",{value:""},"[ Pilih ]",-1),Ae=["value"],Ce={key:0,class:"invalid-feedback"},Ke={class:"col-lg-6 col-md-6"},Ee=i("label",{class:"form-label"},"Kecamatan",-1),Te=i("option",{value:""},"[ Pilih ]",-1),Be=["value"],He={key:0,class:"invalid-feedback"},je={class:"col-lg-6 col-md-6"},Me=i("label",{class:"form-label"},"Desa / Kelurahan",-1),Fe=i("option",{value:""},"[ Pilih ]",-1),Ie=["value"],Oe={key:0,class:"invalid-feedback"},Re={class:"col-lg-12"},We=i("label",{class:"form-label"},"Alamat",-1),ze={key:0,class:"invalid-feedback"},Je={class:"col-lg-12 col-md-12"},qe=i("label",{class:"form-label"},"Nomor Whatsapp Aktif",-1),Ge={key:0,class:"invalid-feedback"},Qe=i("div",{class:"col-lg-6 col-md-6"},[i("button",{type:"submit",class:"btn btn-primary btn-sm btn-sm px-5"},"Submit")],-1);function Xe(s,e,d,r,b,y){const _=k("Head"),V=k("Link");return o(),a(f,null,[w(_,null,{default:U(()=>{var t;return[i("title",null,l((t=s.$page.props.setting.app_name)!=null?t:"Atur Setting Terlebih Dahulu")+" - Edit User",1)]}),_:1}),i("div",B,[i("div",H,[j,i("form",{onSubmit:e[17]||(e[17]=P((...t)=>r.submit&&r.submit(...t),["prevent"]))},[i("div",M,[n(i("input",{type:"hidden",class:c(["form-control",{"is-invalid":d.errors.id}]),"onUpdate:modelValue":e[0]||(e[0]=t=>r.form.id=t)},null,2),[[u,r.form.id]]),i("div",F,[i("div",I,[O,i("div",R,[w(V,{href:"/user/users",class:"btn btn-primary btn-sm btn-sm mt-2 mt-lg-0"},{default:U(()=>[W]),_:1})])]),z,i("div",J,[i("div",q,[G,n(i("input",{type:"text",class:c(["form-control",{"is-invalid":d.errors.name}]),"onUpdate:modelValue":e[1]||(e[1]=t=>r.form.name=t),placeholder:"Nama"},null,2),[[u,r.form.name]]),d.errors.name?(o(),a("div",Q,l(d.errors.name),1)):m("",!0)]),i("div",X,[Y,n(i("input",{type:"text",class:c(["form-control",{"is-invalid":d.errors.username}]),"onUpdate:modelValue":e[2]||(e[2]=t=>r.form.username=t),placeholder:"Username"},null,2),[[u,r.form.username]]),d.errors.username?(o(),a("div",Z,l(d.errors.username),1)):m("",!0)]),i("div",p,[$,n(i("input",{type:"email",class:c(["form-control",{"is-invalid":d.errors.email}]),"onUpdate:modelValue":e[3]||(e[3]=t=>r.form.email=t),placeholder:"Email"},null,2),[[u,r.form.email]]),d.errors.email?(o(),a("div",ee,l(d.errors.email),1)):m("",!0)]),i("div",ie,[se,n(i("input",{type:"password",class:c(["form-control",{"is-invalid":d.errors.password}]),"onUpdate:modelValue":e[4]||(e[4]=t=>r.form.password=t),placeholder:"Password"},null,2),[[u,r.form.password]]),d.errors.password?(o(),a("div",te,l(d.errors.password),1)):m("",!0)]),i("div",de,[re,n(i("input",{type:"password",class:c(["form-control",{"is-invalid":d.errors.password_confirmation}]),"onUpdate:modelValue":e[5]||(e[5]=t=>r.form.password_confirmation=t),placeholder:"Konfirmasi Password"},null,2),[[u,r.form.password_confirmation]]),d.errors.password_confirmation?(o(),a("div",oe,l(d.errors.password_confirmation),1)):m("",!0)])])])]),i("div",ae,[i("div",le,[ne,ce,i("div",_e,[i("div",me,[ue,n(i("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>r.form.gender=t),class:c([{"is-invalid":d.errors.gender},"form-select"])},he,2),[[v,r.form.gender]]),d.errors.gender?(o(),a("div",ge,l(d.errors.gender),1)):m("",!0)]),i("div",ye,[ke,n(i("input",{type:"date","onUpdate:modelValue":e[7]||(e[7]=t=>r.form.date_of_birth=t),class:c([{"is-invalid":d.errors.date_of_birth},"form-control"]),placeholder:"Tanggal Lahir"},null,2),[[u,r.form.date_of_birth]]),d.errors.date_of_birth?(o(),a("div",we,l(d.errors.date_of_birth),1)):m("",!0)]),i("div",Ue,[Ve,n(i("select",{onChange:e[8]||(e[8]=(...t)=>r.cityData&&r.cityData(...t)),"onUpdate:modelValue":e[9]||(e[9]=t=>r.form.province_id=t),class:c([{"is-invalid":d.errors.province_id},"form-select"])},[xe,(o(!0),a(f,null,h(b.provinces,t=>(o(),a("option",{value:t.id},l(t.name),9,De))),256))],34),[[v,r.form.province_id]]),d.errors.province_id?(o(),a("div",Le,l(d.errors.province_id),1)):m("",!0)]),i("div",Ne,[Pe,n(i("select",{onChange:e[10]||(e[10]=(...t)=>r.districtData&&r.districtData(...t)),"onUpdate:modelValue":e[11]||(e[11]=t=>r.form.city_id=t),class:c([{"is-invalid":d.errors.city_id},"form-select"])},[Se,(o(!0),a(f,null,h(r.form.cities,t=>(o(),a("option",{value:t.id},l(t.name),9,Ae))),256))],34),[[v,r.form.city_id]]),d.errors.city_id?(o(),a("div",Ce,l(d.errors.city_id),1)):m("",!0)]),i("div",Ke,[Ee,n(i("select",{onChange:e[12]||(e[12]=(...t)=>r.villageData&&r.villageData(...t)),"onUpdate:modelValue":e[13]||(e[13]=t=>r.form.district_id=t),class:c([{"is-invalid":d.errors.district_id},"form-select"])},[Te,(o(!0),a(f,null,h(r.form.districts,t=>(o(),a("option",{value:t.id},l(t.name),9,Be))),256))],34),[[v,r.form.district_id]]),d.errors.district_id?(o(),a("div",He,l(d.errors.district_id),1)):m("",!0)]),i("div",je,[Me,n(i("select",{"onUpdate:modelValue":e[14]||(e[14]=t=>r.form.village_id=t),class:c([{"is-invalid":d.errors.village_id},"form-select"])},[Fe,(o(!0),a(f,null,h(r.form.villages,t=>(o(),a("option",{value:t.id},l(t.name),9,Ie))),256))],2),[[v,r.form.village_id]]),d.errors.village_id?(o(),a("div",Oe,l(d.errors.village_id),1)):m("",!0)]),i("div",Re,[We,n(i("textarea",{cols:"",rows:"5","onUpdate:modelValue":e[15]||(e[15]=t=>r.form.address=t),class:c([{"is-invalid":d.errors.address},"form-control"]),placeholder:"Alamat RT/RW/No Rumah"},null,2),[[u,r.form.address]]),d.errors.address?(o(),a("div",ze,l(d.errors.address),1)):m("",!0)]),i("div",Je,[qe,n(i("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=t=>r.form.phone_number=t),class:c([{"is-invalid":d.errors.phone_number},"form-control"]),placeholder:"Nomor Hp (WA Aktif)"},null,2),[[u,r.form.phone_number]]),d.errors.phone_number?(o(),a("div",Ge,l(d.errors.phone_number),1)):m("",!0)]),Qe])])])],32)])])],64)}const ii=E(T,[["render",Xe]]);export{ii as default};
